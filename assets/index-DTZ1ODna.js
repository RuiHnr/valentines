(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const f=["intro-screen","date-choice-screen","activity-screen","final-screen"];function u(o){document.querySelectorAll(".screen").forEach(t=>t.classList.add("hidden"));const e=document.getElementById(o);e&&e.classList.remove("hidden"),b(o)}function b(o){const e=document.getElementById("global-back-btn");if(!e)return;const t=f.indexOf(o)-1;if(t<0){e.classList.add("hidden");return}e.classList.remove("hidden");const s=e.cloneNode(!0);e.parentNode?.replaceChild(s,e);const n=f[t];s.addEventListener("click",()=>{u(n)})}function E(){const o=document.querySelector("#yes-btn"),e=document.querySelector("#no-btn");let t=1;const s=()=>{const n=Math.random()*(window.innerWidth-e.offsetWidth),i=Math.random()*(window.innerHeight-e.offsetHeight);e.style.position="absolute",e.style.left=`${n}px`,e.style.top=`${i}px`,t+=.2,o.style.setProperty("--btn-scale",t.toString())};e.addEventListener("mouseover",()=>s()),e.addEventListener("click",()=>s()),o.addEventListener("click",()=>u("date-choice-screen"))}const L="/valentines/assets/xiaolongbao-DA3eiHW2.jpg",x="/valentines/assets/bibimbap-DdGk_0MW.jpg",I="/valentines/assets/chef-DqH1DJYl.jpg",w="/valentines/assets/nasi-goreng-LhYNxUYZ.jpg",C="/valentines/assets/arisu-ftxhEYbI.jpg",k="/valentines/assets/hongdou-FuPsqVe1.jpg",S="/valentines/assets/maomao-CXO6a_ze.jpg",B="/valentines/assets/clown-C4QhxXCN.jpg",M="/valentines/assets/conbini-C26IYJDZ.jpg",A="/valentines/assets/iceskaters-gRqPnXOi.jpg",q="/valentines/assets/uniqlo-BfSexr7d.jpg",D="/valentines/assets/museum-qAwiSES0.jpg",T={dinner:{title:"Choose a cuisine!",options:[{id:"chinese",text:"中餐",image:L},{id:"korean",text:"한국",image:x},{id:"home",text:"Private Chef",image:I},{id:"indonesian",text:"Indonesisch",image:w},{id:"surprise-food",text:"Surprise me"}]},movie:{title:"Choose what you wanna watch!",options:[{id:"alice",text:"Alice in Borderland",image:C},{id:"qyfddf",text:"去有风的地方",image:k},{id:"maomao",text:"Maomao",image:S},{id:"horror-movie",text:"Horror Film",image:B},{id:"surprise-movie",text:"Surprise Movie"}]},outdoor:{title:"Choose an activity!",options:[{id:"convenience-store",text:"Convenience Store Date",image:M},{id:"iceskating",text:"Iceskating Date",image:A},{id:"shopping",text:"Shopping Date",image:q},{id:"museum",text:"Museum Date",image:D},{id:"surprise-outdoor",text:"Surprise Me"}]}};let m,d=null,r=null,h=null,c=null,g=null,p=null,v=null;const l=(o,e)=>new Promise((t,s)=>{const n=setTimeout(()=>t(!0),o);e.addEventListener("abort",()=>{clearTimeout(n),s(new DOMException("Aborted","AbortError"))})});function j(){c=document.getElementById("scroll-arrow"),g=document.getElementById("slider-track"),p=document.getElementById("slider-window"),v=document.getElementById("slide-top"),r=document.getElementById("envelope"),h=document.getElementById("letter"),c&&g&&c.addEventListener("click",()=>{r?.classList.contains("open")&&y(),g?.classList.toggle("scrolled"),c?.classList.toggle("rotate-up"),c?.classList.toggle("bouncing")}),r&&r.addEventListener("click",()=>y())}function N(o){d&&d.abort(),d=new AbortController;const e=d.signal;u("final-screen");const t=document.getElementById("progress-bar"),s=document.getElementById("loading-text"),n=document.getElementById("loading-subtext"),i=document.getElementById("loading-container"),a=document.getElementById("success-container");P(o),!(!t||!s||!n||!i||!a)&&(i.classList.remove("hidden"),a.classList.add("hidden"),c?.classList.add("hidden"),t.style.width="0%",s.textContent="The date is being prepared...",n.textContent="Loading...",r?.classList.remove("open"),h?.classList.add("hidden"),(async()=>{try{await l(1300,e),t.style.width="10%",s.textContent="Checking Calender...",await l(1800,e),t.style.width="45%",s.textContent="Checking cash...",n.textContent="sieht bissl knapp aus",await l(2e3,e),t.style.width="80%",n.textContent="Almost done...",await l(900,e),t.style.width="100%",s.textContent="All set!",await l(900,e),i.classList.add("hidden"),a.classList.remove("hidden"),c&&c.classList.remove("hidden")}catch{}})())}function y(){const o=r?.classList.toggle("open");h?.classList.toggle("hidden"),o?(m&&clearTimeout(m),v?.classList.add("invisible"),p?.classList.add("allow-overflow")):m=setTimeout(()=>{v?.classList.remove("invisible"),p?.classList.remove("allow-overflow")},800)}function P(o){let e="",t="";switch(o){case"chinese":e="Tbd",t="chinesisch essen";break;case"korean":e="Tbd",t="koreanisch essen";break;case"home":e="bei mir zuhause",t="dinner at home";break;case"indonesian":e="Diva Minang, Ismaninger Str. 17, München",t="Indonesisch essen";break;case"surprise-food":e="Surprise",t="dinner";break;case"alice":case"qyfddf":case"maomao":case"horror-movie":case"surprise-movie":e="Bei mir zuhause",t="Movie night";break;case"convenience-store":e="Super K Convenience Store",t="Essen + Shopping";break;case"iceskating":e="Prinzregentenstadion",t="Eislaufen";break;case"shopping":e="In der Stadt";break;case"museum":e="Haus der Kunst, Prinzregentenstraße 1",t="Museum";break;case"surprise-outdoor":e="Surprise",t="Surprise";break}const s=document.getElementById("letter-content");s&&(s.innerHTML=`
        <div class="letter-header">Date Einladung</div>

        <div class="invite-grid">
            <span class="invite-label">Was?</span>
            <span class="invite-value">${t}</span>

            <span class="invite-label">Wo?</span>
            <span class="invite-value">${e}</span>
    
            <span class="invite-label">Wann?</span>
            <span class="invite-value">Samstag, 14.02</span>

            <span class="invite-label">Mit?</span>
            <span class="invite-value">mir :)</span>
        </div>
            <div class="letter-footer">
                Love you, Ruirui♥️
            </div>
    `,s.classList.remove("hidden"))}function O(o){const e=T[o],t=document.getElementById("activity-title"),s=document.getElementById("activity-options-container");!t||!s||(t.textContent=e.title,s.innerHTML="",e.options.forEach(n=>{const i=document.createElement("div");if(i.textContent=n.text,i.className="activity-card",n.image){const a=document.createElement("img");a.className="activity-icon",a.src=n.image,a.className="activity-icon",i.appendChild(a)}i.addEventListener("click",()=>{N(n.id)}),s.appendChild(i)}),u("activity-screen"))}function H(){document.querySelectorAll(".date-card").forEach(o=>o.addEventListener("click",()=>{const e=o.getAttribute("data-category");e&&O(e)}))}E();H();j();
